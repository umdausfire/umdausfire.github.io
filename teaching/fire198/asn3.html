	<!DOCTYPE html>
	<html lang="zxx" class="no-js">
	<head>
		<!-- Mobile Specific Meta -->
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<!-- Favicon-->
		<link rel="shortcut icon" href="../../img/fav.png">
		<!-- Author Meta -->
		<meta name="author" content="colorlib">
		<!-- Meta Description -->
		<meta name="description" content="">
		<!-- Meta Keyword -->
		<meta name="keywords" content="">
		<!-- meta character set -->
		<meta charset="UTF-8">
		<!-- Site Title -->
		<title>Personal</title>

		<link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet"> 
			<!--
			CSS
			============================================= -->
			<link rel="stylesheet" href="../../css/linearicons.css">
			<link rel="stylesheet" href="../../css/font-awesome.min.css">
			<link rel="stylesheet" href="../../css/bootstrap.css">
			<link rel="stylesheet" href="../../css/magnific-popup.css">			
			<link rel="stylesheet" href="../../css/nice-select.css">							
			<link rel="stylesheet" href="../../css/animate.min.css">
			<link rel="stylesheet" href="../../css/owl.carousel.css">			
			<link rel="stylesheet" href="../../css/jquery-ui.css">			
			<link rel="stylesheet" href="../../css/main.css">
			<link href="../../css/icofont/icofont.min.css" rel="stylesheet">
		    <link href="../../css/remixicon/remixicon.css" rel="stylesheet">
		    <link href="../../css/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
		    <link href="../../css/boxicons/css/boxicons.min.css" rel="stylesheet">
		    <link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">
		    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script type="text/javascript" id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
        </script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-171009851-1"></script>
            <script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());

              gtag('config', 'UA-171009851-1');
            </script>
		</head>
		<body>	
		<!-- EDIT ME -->
		  <header id="header">
		    <div class="container main-menu">
		    	<div class="row align-items-center justify-content-between d-flex">
			      <div id="logo">
			        <a href="../index.html"><img src="../../img/logos/1.png" width="48px" alt="" title="" /></a>
			      </div>
			      <nav id="nav-menu-container">
			        <ul class="nav-menu">
			          <li><a href="../../index.html">Home</a></li>
                      <li><a href="../../teaching.html">Teaching</a></li>
			        </ul>
			      </nav><!-- #nav-menu-container -->		    		
		    	</div>
		    </div>
		  </header><!-- #header -->
		  <!-- EDIT ME -->
		  

			<section class="sample-text-area">
                <div class="container">
                    <h3 class="text-heading"></h3>
                </div>
            </section>

            
			<!-- End Sample Area -->
			<!-- Start Align Area -->
			<div class="whole-wrap">
				<div class="container">
					<div class="section-top-border">
						<!-- <h2><b>FIRE298: FIRE Semester 3</b></h2>
						<h3><b>Section 0108: Autonomous Unmanned Systems</b></h3> -->
						<!-- <div class="row"> -->
							<!-- <div class="col-md-6 mt-sm-20 left-align-p">
								<div class="">
									<ul class="unordered-list">
                                    <h3> Table of Contents: </h3><br>
                                    <li> <a href="#whatisanimu"> What is an IMU?</a> </li>
                                    <li> <a href="#mathimu"> Isn't Attitude Estimation trivial?</a> </li>
                                    <li> <a href="#cf"> Complementary Filter</a> </li>
                                    <li> <a href="#ref"> References</a> </li>
									</ul>
							</div> -->
							<!-- </div> -->
							<!-- <div class="col-md-6 mt-sm-20 right-align-p">
								<img src="img/research/PRGFlow.png" alt="" class="img-fluid">
							</div> -->
							<div class="row">
								<div class="col-lg-2 col-md-2 mt-sm-8 right-align-p">
								<img src="../../img/teaching/fireausicon.webp" alt="" class="img-fluid">
							</div>
							<div class="col-lg-6 col-md-6 mt-sm-20 left-align-p">
								<h2 class="mb-30">ASN3</h2>
								<h3><b> How does a Robot See the World?</b></h3>
							</div>
							
						</div>
						</div>
						<hr>
                       
            <h3> Deadline </h3><br>
            <h4>Mar 04, 2022 at 11:59:59 PM (Individual Submissions).</h4><br><br>

			<h3> What you need to do? </h3><br>
			Since most of the real-world robots has some form of robot perception: interpretting data from a robot's sensors, in this assignment you'll work on data from a color camera. The reason for the choice of this sensor is because of its cost-effectiveness and the ubiquitous nature of the sensors. Moreover, one can achieve a numerous set of tasks with images/video from a color camera. <br><br>

			
			In this assignment, you'll learn how to interpret color images using Python, Numpy and OpenCV to find/detect a cylindrical "orange" barrels in an <span class="cour">.mp4</span> video, which acts as our makeshift replacement for a disaster survivor. For the purposes of this assignment, there is only one survior/barrel in every frame of the video and is placed vertically on the ground. A sample image from the video is shown in Fig. 1 and the video preview is given in Fig. 2.<br><br>

			<img src="../../img/fire198/asn3/1.png" width=30% alt="" class="img-fluid"><br>
			Fig. 1: Sample image frame from the video.<br><br>

			<iframe src="https://drive.google.com/file/d/1Muf5drfUmaQcNkA4XiIkL3skCAoY3IS-/preview" width="640" height="480" allow="autoplay"></iframe><br>
			Fig. 2: Video in which barrel has to be detected.<br><br>


			<h4> Step 1: Download Data</h4><br>
			The data is given in the form of a <span class="cour">.zip</span> file that contains an input color video called <span class="cour">Vid.mp4</span>, the masks video called <span class="cour">Masks.mp4</span>, a sample frame called <span class="cour">Frame0064.png</span> and it's corresponding mask called <span class="cour">Label0064.png</span>. The videos are in <span class="cour">.mp4</span> format and the images are in <span class="cour">.png</span> format. The data can be downloaded from <a href="https://drive.google.com/file/d/1PswpIhAiOwnDNszjrhl-pB_nihl_Rl03/view?usp=sharing">here</a>. Feel free to convert the video to frames for debugging. <br><br>

			<h4> Step 2: Let's Learn OpenCV</h4><br>
			You will be using the images that you downloaded in the last step (extract the <span class="cour">.zip</span> file) in this step. I'll use the following set of questions to guide you in learning a few basic concepts of OpenCV.
            <ul class="ordered-list">
            <li> How do you read and display an image you downloaded? Attach a snapshot of your output and code in the document. </li>
            <li> How do you read the image you just downloaded as grayscale? Now, read the image and call this grayscale image as \(I_g\) (Hint: There is a flag in OpenCV's image reading function for this). (a) Now create a \(3\times3\) Sobel kernel for obtaining horizontal edges. Let us denote this kernel as \(K_x\). Estimate X-gradient \(G_x\) as \(K_x \circledast I_g\) (Here, \(\circledast\) denotes the convolution operation). Display the magnitude of \(G_x\) denoted as \(\vert G_x \vert\), (b) Repeat the same for vertical edges, (c) Compute and display the total gradient \(G\) given by \(G = \sqrt{G_x^2 + G_y^2} \). You are not allowed to use <span class=cour>cv2.Sobel</span> function for this assignment.</li>
            </ul> <br><br> 

			<h4> Step 3: Learn About Color Images and Color Spaces</h4><br>
			Just like last step, I'll use the following set of questions to guide you in learning a few basic concepts of color images.
			<ul class="ordered-list">
			<li> How do you read the color image (RGB) you downloaded? Now read the color image, then extract and display the Red, Green and Blue channels. Attach a snapshot of this in the document. What do you observe in each of the channels?  </li>
			<li> Convert the RGB image to HSV colorspace (Hue, Saturation and Value) and display the HSV image. Attach a snapshot of this in the document. What differences do you visually observe between the RGB and HSV image? Why is one likely better than the other?</li>
			</ul><br><br>

			<h4> Step 4: Your First Color Thresholder Application</h4><br>
			Our human vision is really good at focusing at a particular color of interest. For e.g., when I ask you to focus on an "orange" colored ball, you can do it with ease, however I never told you specifically what "orange" means. You could still focus on the "orange" color since you have learned in your childhood how the color "orange" looks like. Similarly, we want to teach our robot to foucus/detect a certain colored object. Let us consider that we are working on RGB images. The color "orange" has a set of RGB values, however since this is a range, you'll need to make all the values zero which are "not orange". For e.g., an RGB value of \([255,145,0]\) is the stereotypical orange color but the RGB values of \([209, 122, 9]\) and \([212, 120, 0]\) are also different shades of orange (see Fig. 3 for an example). Now, answer the following fundamental question:
			<ul class="ordered-list">
			<li> What factors make the same object color appear different on the captured image? List five factors (feel free to list more). </li>
			</ul><br><br>

			Let's say, we have a set of images across varying factors that can affect the way the captured image "looks". A simple example of how the "orange" barrel looks under different conditions is given below.<br><br>

			<img src="../../img/fire198/asn3/BarrelDiffColorCompressed.png" width=70% alt="" class="img-fluid"><br>
			Fig. 3: The same "orange" barrel looks different under different conditions.<br><br>


			Now implement/answer the following:
			<ul class="ordered-list">
			<li> Implement a color thresolder to detect only the "orange" color of the barrel on RGB color space. Note that you should not change your thresolds with change in image/frame. Run this on all the frames of the video and output a video that has the "orange" color and every other color is made black. Sample output is shown in Fig. 4 and side-by-side input and "ideal" output video are shown in Fig. 5. </li>
			<li> What are the issues with the simple color thresolder you implemented in the previous step?</li>
			<li> You can think of a thresolding operation as a weighing function that maps input RGB to output where only "orange" has a weight of 1.0 for all channels (the color is passed as in, i.e., each channel is multiplied by 1.0) and all other colors have a weight of 0.0 for all channels (the color gets multiplied by 0.0, making it black). If \(w(I_i) \in \mathbb{R}^{3\times1}\) is a weight vector that is a function of the input that maps the input \(I_i\) to output \(I_o\) such that \(I_o = w(I_i)\) is valid per-pixel. Now, one can use any fancy function that controls how one can measure non-orangeness from the "best" orange color. One such common function is to use a Gaussian since it is data driven (can find the "best" orange color given a set of examples). The probability of "orangeness" (ranging from 0 to 1 where 0 indicates "not orange at all" and 1 indicates "as orange as it gets") of a RGB pixel location \(\mathbf{x} \in \mathbb{R}^{3\times1}\) is given by \( p(\text{orangeness}\vert \mathbf{x}) \sim \frac{1}{\sqrt{2\pi \vert\Sigma\vert}}e^{\frac{-1}{2}(\mathbf{x}-\mu)^T\Sigma^{-1}(\mathbf{x}-\mu)}\). Here, \(\mu \in \mathbb{R}^{3\times1}\) is the mean/average of all "orange" samples (pixels) from your set of images and \(\Sigma \in \mathbb{R}^{3\times3}\) is the covariance matrix which again is obtained as the covariance of all "orange" samples (pixels) from your set of images. The Gaussian distribution is also denoted as \(\mathcal{N}(\mu, \Sigma)\) and is also called Normal distribution (Fun fact: it is the same distribution that is used to curve grades). You can use the Masks video given along with the RGB video where at every frame white pixels correspond to the "orange" pixel and black pixels correspond to the "non-orange" pixels. Implement thresholding on the confidence scores you obtained using the Gaussian distribution as described above (if you used the equation above this will be in the range \([0,1]\) and you need to convert it to range \([0,255]\) and Int datatype to make it displayable, but you are free to use any built-in or third-party function for this). Refer to <a href="https://cmsc426.github.io/colorseg/#gaussian">this awesome tutorial</a> for more information about color thresholding using the Gaussian distribution.
				<ul class="ordered-list">
				<li> It this method any better than the first method?</li>
				<li> What are the issues in the second method? How can you fix them?</li>
				</ul>
			 </li>
			<li> Use any other color space to make your results "better". What color space did you choose and why? Show a comparison of results with your chosen color space and RGB on example frames or the entire video.
			</li>
			</ul>

			<br><br>
			
			<!-- TODO: 
			- Grading
			-->


			<img src="../../img/fire198/asn3/BarrelMasks.png" width=70% alt="" class="img-fluid"><br>
			Fig. 4: Left: Sample input, Right: Sample output.<br><br>


			<iframe src="https://drive.google.com/file/d/1-RhlYqAzLNDP9SXk0-R78F53d9RK_pZ7/preview" height="480" width="720" allow="autoplay"></iframe><br>
			Fig. 5: Input and "ideal" output video.<br><br>

			<h3> What you need to submit? </h3><br>
            A <span class="cour">.zip</span> file that has a document (feel free to use Word or Google Docs or any other software for this) converted to PDF with the following answers and required codes as mentioned below:
            <ul class="unordered-list">
            	<li> Code (as <span class="cour">.py</span> python files and inside the document as a screenshot or copy pasted text) and sample input and outputs (can be in the form of screenshots) for questions in Step 2. Answer all the questions in order, some questions might not have code or outputs. </li>	
            	<li> Code (as <span class="cour">.py</span> python files and inside the document as a screenshot or copy pasted text) and sample input and outputs (can be in the form of screenshots) for questions in Step 3. Answer all the questions in order, some questions might not have code or outputs.</li>
            	<li> Code (as <span class="cour">.py</span> python files and inside the document as a screenshot or copy pasted text) and sample input and outputs (can be in the form of screenshots) for questions in Step 4. Answer all the questions in order, some questions might not have code or outputs.</li>
            	<li> Separate output videos in <span class="cour">.mp4</span> format for color thresholder using simple thresholding and Gaussian named as <span class="cour">SimpleColorThresholder.mp4</span> and <span class="cour">GaussianColorThresholder.mp4</span> respectively. Here, you can either show the detected mask (white and black, where the image is white on the "orange" pixels and black on the "non-orange" pixels) or the masked image such that only "orange" pixels show their actual color and "non-orange" pixels are black.</li>
            	<li> Challenges you faced in solving this assignment along with lessons learned.</li>	
            	<li> Positive or Negative feedback about this assignment if you have any.</li>
            </ul><br><br>
            <b> IMPORTANT NOTE: </b>
			The submissions are made through ELMS with the name <span class=cour>ASN3_DirID.pdf</span>. Here, <span class=cour>DirID</span> is your directory ID, i.e., the first part of your terpmail email address. For e.g., if your terpmail email address is <span class=cour>ABCD@terpmail.umd.edu</span>, then your <span class=cour>DirID</span> is <span class=cour>ABCD</span>.  Keep your submissions professional, grammatically correct without spelling mistakes. Do not use slangs and chat shorthands on your submissions. <b>You'll get 25% grade penalty for not following the submission guidelines.</b>  <br><br>

            </div>
        </div>
    </div>


            <!-- EDIT FOOT -->
            <!-- start footer Area -->
            <footer class="footer-area section-gap">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-5 col-md-6 col-sm-6">
                            <div class="single-footer-widget">
                                <p class="footer-text"><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-6 col-sm-6 social-widget">
                            <div class="single-footer-widget">
                                <h4>Follow Me</h4>
                                <p>Let us be social</p>
                                <div class="footer-social d-flex align-items-center">
                                  <a title="Google Scholar" href="https://scholar.google.com/citations?user=ugyWSWwAAAAJ&hl=en&oi=ao" style="padding-top: 8px" class="ai"><i class="ai ai-google-scholar"></i></a>&nbsp;
                                  <a title="Github" href="http://github.com/nitinjsanket/" class="github"><i class="fa fa-github"></i></a>&nbsp;
                                  <a title="Teaching on YouTube" href="http://youtube.com/prgumdteaching" class="youtube"><i class="fa fa-youtube-square"></i></a>&nbsp;
                                  <a title="LinkedIn" href="https://www.linkedin.com/in/nitinjsanket/" class="linkedin"><i class="fa fa-linkedin-square"></i></a>&nbsp;
                                  <a title="Twitter" href="http://twitter.com/nitinjsanket" class="twitter"><i class="fa fa-twitter-square"></i></a>&nbsp;
                                  <a title="500px" href="https://500px.com/nitinjsanket" class="500px"><i class="fa fa-500px"></i></a>&nbsp;
                                  <a title="Instagram" href="http://instagram.com/firenitin" class="instagram"><i class="fa fa-instagram"></i></a>&nbsp;
                                  <a title="Photography" href="http://instagram.com/njsphoto" class="camera"><i class="fa fa-camera"></i></a>&nbsp;
                                  <a title="Facebook" href="http://facebook.com//nitin.jsanket" class="facebook"><i class="fa fa-facebook-square"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
            <!-- End footer Area -->        
            <!-- EDIT FOOT -->

			<script src="js/vendor/jquery-2.2.4.min.js"></script>
			<script src="js/popper.min.js"></script>
			<script src="js/vendor/bootstrap.min.js"></script>			
			<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhOdIF3Y9382fqJYt5I_sswSrEw5eihAA"></script>			
  			<script src="js/easing.min.js"></script>			
			<script src="js/hoverIntent.js"></script>
			<script src="js/superfish.min.js"></script>	
			<script src="js/jquery.ajaxchimp.min.js"></script>
			<script src="js/jquery.magnific-popup.min.js"></script>	
    		<script src="js/jquery.tabs.min.js"></script>						
			<script src="js/jquery.nice-select.min.js"></script>	
            <script src="js/isotope.pkgd.min.js"></script>			
			<script src="js/waypoints.min.js"></script>
			<script src="js/jquery.counterup.min.js"></script>
			<script src="js/simple-skillbar.js"></script>							
			<script src="js/owl.carousel.min.js"></script>							
			<script src="js/mail-script.js"></script>	
			<script src="js/main.js"></script>	
		</body>
	</html>






